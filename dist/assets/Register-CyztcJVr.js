import{u as N,r as x,j as e,L as b,a as g}from"./index-CccsQzu4.js";function v(){const h=N(),[r,a]=x.useState(""),[l,n]=x.useState(!1),f=async i=>{var c,m,u,p;i.preventDefault(),a(""),n(!0);const t=new FormData(i.currentTarget),d=t.get("email"),o=t.get("password"),j=t.get("fullName"),y=t.get("registrationCode");try{await g.register({email:d,password:o,full_name:j,registration_code:y}),await g.login({email:d,password:o}),h("/",{replace:!0})}catch(s){(m=(c=s.response)==null?void 0:c.data)!=null&&m.detail?a(typeof s.response.data.detail=="string"?s.response.data.detail:"Registration failed"):(p=(u=s.response)==null?void 0:u.data)!=null&&p.message?a(s.response.data.message):a("Registration failed. Please try again.")}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(b,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[r&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-700",children:r})}),e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"sr-only",children:"Full name"}),e.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"input rounded-t-md rounded-b-none",placeholder:"Full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input rounded-none",placeholder:"Email address"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"input rounded-none",placeholder:"Password"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"registrationCode",className:"sr-only",children:"Registration Code"}),e.jsx("input",{id:"registrationCode",name:"registrationCode",type:"text",required:!0,className:"input rounded-t-none rounded-b-md",placeholder:"Registration Code"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:l,className:"btn btn-primary w-full flex justify-center",children:l?"Creating account...":"Create account"})})]})]})})}export{v as default};
//# sourceMappingURL=Register-CyztcJVr.js.map
