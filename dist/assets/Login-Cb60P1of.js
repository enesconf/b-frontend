import{u as b,r as u,j as e,L as v,a as w}from"./index-CccsQzu4.js";function S(){const x=b(),[t,a]=u.useState(""),[r,n]=u.useState(!1),h=async i=>{var l,o,c,m,p;i.preventDefault(),a(""),n(!0);const d=new FormData(i.currentTarget),g=d.get("email"),j=d.get("password");try{await w.login({email:g,password:j}),x("/",{replace:!0})}catch(s){if((c=(o=(l=s.response)==null?void 0:l.data)==null?void 0:o.validation_error)!=null&&c.body_params){const y=s.response.data.validation_error.body_params;a(y.map(f=>f.msg).join(", "))}else(p=(m=s.response)==null?void 0:m.data)!=null&&p.detail?a(typeof s.response.data.detail=="string"?s.response.data.detail:"Login failed"):a("Login failed. Please try again.")}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(v,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[t&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-700",children:t})}),e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input rounded-t-md rounded-b-none",placeholder:"Email address"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"input rounded-t-none rounded-b-md",placeholder:"Password"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:r,className:"btn btn-primary w-full flex justify-center",children:r?"Signing in...":"Sign in"})})]})]})})}export{S as default};
//# sourceMappingURL=Login-Cb60P1of.js.map
