{"version":3,"file":"Login-Cb60P1of.js","sources":["../../src/pages/Login.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport authService from '../services/auth';\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const [error, setError] = useState<string>('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    const formData = new FormData(e.currentTarget);\n    const email = formData.get('email') as string;\n    const password = formData.get('password') as string;\n\n    try {\n      await authService.login({ email, password });\n      navigate('/', { replace: true });\n    } catch (err: any) {\n      if (err.response?.data?.validation_error?.body_params) {\n        const errors = err.response.data.validation_error.body_params;\n        setError(errors.map((e: any) => e.msg).join(', '));\n      } else if (err.response?.data?.detail) {\n        setError(typeof err.response.data.detail === 'string' \n          ? err.response.data.detail \n          : 'Login failed');\n      } else {\n        setError('Login failed. Please try again.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Sign in to your account\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Or{' '}\n            <Link to=\"/register\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n              create a new account\n            </Link>\n          </p>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          {error && (\n            <div className=\"rounded-md bg-red-50 p-4\">\n              <div className=\"text-sm text-red-700\">{error}</div>\n            </div>\n          )}\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"email\" className=\"sr-only\">\n                Email address\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                className=\"input rounded-t-md rounded-b-none\"\n                placeholder=\"Email address\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                className=\"input rounded-t-none rounded-b-md\"\n                placeholder=\"Password\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"btn btn-primary w-full flex justify-center\"\n            >\n              {loading ? 'Signing in...' : 'Sign in'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n} "],"names":["Login","navigate","useNavigate","error","setError","useState","loading","setLoading","handleSubmit","e","formData","email","password","authService","err","_c","_b","_a","errors","_e","_d","jsxs","jsx","Link"],"mappings":"oEAIA,SAAwBA,GAAQ,CAC9B,MAAMC,EAAWC,EAAY,EACvB,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAiB,EAAE,EACvC,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAK,EAEtCG,EAAe,MAAOC,GAAwC,eAClEA,EAAE,eAAe,EACjBL,EAAS,EAAE,EACXG,EAAW,EAAI,EAEf,MAAMG,EAAW,IAAI,SAASD,EAAE,aAAa,EACvCE,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAWF,EAAS,IAAI,UAAU,EAEpC,GAAA,CACF,MAAMG,EAAY,MAAM,CAAE,MAAAF,EAAO,SAAAC,EAAU,EAC3CX,EAAS,IAAK,CAAE,QAAS,EAAA,CAAM,QACxBa,EAAU,CACjB,IAAIC,GAAAC,GAAAC,EAAAH,EAAI,WAAJ,YAAAG,EAAc,OAAd,YAAAD,EAAoB,mBAApB,MAAAD,EAAsC,YAAa,CACrD,MAAMG,EAASJ,EAAI,SAAS,KAAK,iBAAiB,YACzCV,EAAAc,EAAO,IAAKT,GAAWA,EAAE,GAAG,EAAE,KAAK,IAAI,CAAC,CACxC,MAAAU,GAAAC,EAAAN,EAAI,WAAJ,YAAAM,EAAc,OAAd,MAAAD,EAAoB,OACpBf,EAAA,OAAOU,EAAI,SAAS,KAAK,QAAW,SACzCA,EAAI,SAAS,KAAK,OAClB,cAAc,EAElBV,EAAS,iCAAiC,CAC5C,QACA,CACAG,EAAW,EAAK,CAAA,CAEpB,EAEA,aACG,MAAI,CAAA,UAAU,sFACb,SAACc,EAAA,KAAA,MAAA,CAAI,UAAU,4BACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,yDAAyD,SAEvE,0BAAA,EACAD,EAAAA,KAAC,IAAE,CAAA,UAAU,yCAAyC,SAAA,CAAA,KACjD,UACFE,EAAK,CAAA,GAAG,YAAY,UAAU,gDAAgD,SAE/E,sBAAA,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EACCF,EAAA,KAAA,OAAA,CAAK,UAAU,iBAAiB,SAAUb,EACxC,SAAA,CACCL,GAAAmB,EAAA,IAAC,OAAI,UAAU,2BACb,eAAC,MAAI,CAAA,UAAU,uBAAwB,SAAAnB,CAAA,CAAM,CAC/C,CAAA,EAEFkB,EAAAA,KAAC,MAAI,CAAA,UAAU,mCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAAAC,MAAC,QAAM,CAAA,QAAQ,QAAQ,UAAU,UAAU,SAE3C,gBAAA,EACAA,EAAA,IAAC,QAAA,CACC,GAAG,QACH,KAAK,QACL,KAAK,QACL,aAAa,QACb,SAAQ,GACR,UAAU,oCACV,YAAY,eAAA,CAAA,CACd,EACF,SACC,MACC,CAAA,SAAA,CAAAA,MAAC,QAAM,CAAA,QAAQ,WAAW,UAAU,UAAU,SAE9C,WAAA,EACAA,EAAA,IAAC,QAAA,CACC,GAAG,WACH,KAAK,WACL,KAAK,WACL,aAAa,mBACb,SAAQ,GACR,UAAU,oCACV,YAAY,UAAA,CAAA,CACd,CACF,CAAA,CAAA,EACF,QAEC,MACC,CAAA,SAAAA,EAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAUhB,EACV,UAAU,6CAET,WAAU,gBAAkB,SAAA,CAAA,CAEjC,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAEJ"}